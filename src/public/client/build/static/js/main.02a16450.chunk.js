(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},75:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(18),c=a.n(o),l=a(82),i=a(5),s=a(84),m=a(16),p=a(80),u=a(83);var f=Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated}})(function(e){var t=e.isAuthenticated,a=e.component,r=Object(m.a)(e,["isAuthenticated","component"]);return n.a.createElement(p.a,Object.assign({},r,{render:function(e){return t?n.a.createElement(u.a,{to:"/"}):n.a.createElement(a,e)}}))});var d=Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated,isLoading:e.user.isLoading}})(function(e){var t=e.isAuthenticated,a=e.isLoading,r=e.component,o=Object(m.a)(e,["isAuthenticated","isLoading","component"]);return n.a.createElement(p.a,Object.assign({},o,{render:function(e){return t||a?n.a.createElement(r,e):n.a.createElement(u.a,{to:"/login"})}}))}),y=function(e){return n.a.createElement(p.a,e)},g=a(21),h=a(11),b=a(12),E=a(14),N=a(13),v=a(15),O=a(7),j=function(e){var t=e.onChange,a=e.onSubmit;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:a,className:"login-form"},n.a.createElement("div",{className:"card card-default"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"email",name:"email",onChange:t,autoComplete:"username",required:!0,placeholder:"example@example.com",className:"form-username form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"password",name:"password",onChange:t,required:!0,placeholder:"password",autoComplete:"new-password",className:"form-username form-control"})),n.a.createElement("button",{type:"submit",className:"btn  btn-success btn-block"},"Login")))))},k="LOGIN",w="LOGOUT",C="FETCH_PROPERTYLIST",S="FETCH_PROPERTY_DETAILS",A="POST_PROPERTY",L="DELETE_PROPERTY_DETAILS",x=function(e){return{type:k,payload:e}},T=function(){return{type:w}},D=a(19),P=a.n(D),H={login:function(e){return P.a.post("/api/user/login",{email:e.email,password:e.password}).then(function(e){return e.data})},fetchUserData:function(){return P.a.get("/api/user/getuserdata").then(function(e){return e.data})}},M={fetchProperties:function(){return P.a.get("/api/property/allproperties").then(function(e){return e.data})},fetchPropertyDetail:function(e){return P.a.get("/api/property/propertydetails/".concat(e)).then(function(e){return e.data})}},R=function(e){return function(e){localStorage.removeItem("emlakJWT"),e(T())}},I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(N.a)(t).call(this,e))).onChange=a.onChange.bind(Object(O.a)(Object(O.a)(a))),a.onSubmit=a.onSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this.props.login;e.preventDefault(),t(this.state)}},{key:"render",value:function(){return n.a.createElement(j,{onChange:this.onChange,onSubmit:this.onSubmit})}}]),t}(r.Component),J=Object(i.b)(null,{login:function(e){return function(t){H.login(e).then(function(e){localStorage.emlakJWT=e.token,t(x(e))})}}})(I),W=a(3),z=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(N.a)(t).call(this,e))).logoutLinkClicked=a.logoutLinkClicked.bind(Object(O.a)(Object(O.a)(a))),a.toggle=a.toggle.bind(Object(O.a)(Object(O.a)(a))),a.state={isOpen:!1},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"toggle",value:function(){var e=this.state.isOpen;this.setState({isOpen:!e})}},{key:"logoutLinkClicked",value:function(e){e.preventDefault(),(0,this.props.logout)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAuthenticated,o=t.user,c=this.state.isOpen;return n.a.createElement(W.h,{color:"light",light:!0,expand:"md"},n.a.createElement("div",{className:"container"},n.a.createElement(W.i,{href:"/"},n.a.createElement("img",{src:"images/company/logo.jpg",width:"30",height:"30",className:"d-inline-block",alt:"logo"})),n.a.createElement(W.j,{onClick:this.toggle}),n.a.createElement(W.a,{isOpen:c,navbar:!0},n.a.createElement(W.e,{className:"mr-auto",navbar:!0},n.a.createElement(W.f,null,n.a.createElement(W.g,{href:"/"},"Home"))),n.a.createElement(W.e,{className:"ml-auto",navbar:!0},n.a.createElement(function(){return a?n.a.createElement(r.Fragment,null,n.a.createElement(W.f,null,n.a.createElement(W.g,{href:"/"},n.a.createElement("i",{className:"fas fa-envelope"}))),n.a.createElement(W.k,{nav:!0,inNavbar:!0},n.a.createElement(W.d,{nav:!0,caret:!0,href:"/"},o&&n.a.createElement("img",{className:"card-img-top mr-1 rounded-circle small-rounded-img",src:o.image,alt:"img"}),o&&o.profilename),n.a.createElement(W.c,{right:!0},n.a.createElement(W.b,null,n.a.createElement(W.g,{href:"/"},"Post an ad for free")),n.a.createElement(W.b,null,n.a.createElement(W.g,{href:"/"},"My account")),n.a.createElement(W.b,null,n.a.createElement(W.g,{href:"/",onClick:e.logoutLinkClicked},"Logout"))))):n.a.createElement(r.Fragment,null,n.a.createElement(W.f,{className:"active d-none d-block d-sm-none"},n.a.createElement(W.g,{href:"/"},"SignUp")),n.a.createElement(W.f,{className:"active d-none d-block d-sm-none"},"/",n.a.createElement(W.g,{href:"/"},"Login")))},null)))))}}]),t}(r.Component),F=Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated,user:e.user.user}},{logout:R})(z),_=a(81),B=function(e){var t=e.property;Object(m.a)(e,["property"]);return n.a.createElement("div",{className:"card rounded-0 property-card"},n.a.createElement("img",{className:"card-img-top rounded-0",style:{height:"10em"},src:t.ImageUrl,alt:"Card cap"}),n.a.createElement("div",{className:"bottom-wrap m-0 bg-transparent"},n.a.createElement("span",{className:"ml-1  text-primary"},t.SaleOrNot),n.a.createElement("div",{className:"ml-1"},n.a.createElement("div",{style:{minHeight:"2.5em",marginTop:"0.3px",maxHeight:"2.5em"}},n.a.createElement("span",{className:"h9 text-primary ",style:{fontSize:"13px"}},t.Address)),n.a.createElement("span",{className:"mt-1",style:{fontsize:"12px",display:"block",position:"relative"}},"Ksh:",t.Price),n.a.createElement("span",{className:"mt-1  mb-1"},n.a.createElement("i",{className:"fas fa-star fa-xs rating-style rating-style-full"}),n.a.createElement("i",{className:"fas fa-star rating-style rating-style-half"}),n.a.createElement("i",{className:"fas fa-star rating-style rating-style-half"}),n.a.createElement("i",{className:"fas fa-star-half-alt rating-style rating-style-half"}),n.a.createElement("i",{className:"far fa-star  rating-style rating-style-empty"})))))},U=Object(i.b)(function(e){return{properties:e.property.propertylist}})(function(e){var t=e.properties.map(function(e){return n.a.createElement("div",{className:"col-6 col-xs-6 col-sm-4 col-lg-3 col-md-4 col-xl-2",style:{marginBottom:"1rem"},key:e.id},n.a.createElement(_.a,{to:"/property/".concat(e.id)},n.a.createElement(B,{property:e})))});return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row "},t))}),Y=function(e){var t=e.onChange,a=e.onSubmit;Object(m.a)(e,["onChange","onSubmit"]);return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-10 col-md-10 col-lg-7 col-xl-5  col-sm-10 input-group mb-3"},n.a.createElement("form",{onSubmit:a,className:"col-12"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",name:"searchText",onChange:t,className:"form-control",placeholder:"Search property","aria-label":"","aria-describedby":"button-addon2"}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},n.a.createElement("i",{className:"fas fa-search"})))))))},K=function(e){return n.a.createElement("div",{className:"pt-3",style:{marginTop:"3em",backgroundColor:"#0B2239"}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location="},"Apartment for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location="},"House for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=sale&renttype=&location="},"Office for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location="},"Land for sale"))),n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=nairobi"},"Apartment for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=daily&location=nairobi"},"Daily apartment in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=mombasa"},"Apartment for rent in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=mombasa"},"Daily apartment in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=kisumu"},"Apartment for rent in Kisumu"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=rent&renttype=&location=nairobi"},"House for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=nairobi"},"Office for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=mombasa"},"Office for rent in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=kisumu"},"Office for rent in Kisumu"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=hotel&&propertytype=rent&renttype=daily&location=mombasa"},"Hotels in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=cottage&&propertytype=&renttype=&location=mombasa&location=kwale&location=lamu&location=kilifi&location=malindi"},"Daily Cottage in Coast region"))),n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location=nairobi"},"Apartment for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location=mombasa"},"Apartment for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location=nairobi"},"House for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location=mombasa"},"House for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=salet&renttype=&location=nairobi"},"Office for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=sale&renttype=&location=mombasa"},"Office for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location=nairobi"},"Land for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location=mombasa"},"Land for sale in Mombasa")))),n.a.createElement("div",{className:"row mt-2 mb-1"},n.a.createElement("div",{className:" col-12 align-content-end"},n.a.createElement("a",{href:"https://www.facebook.com"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/facebook.svg",alt:"fb"})),n.a.createElement("a",{href:"https://www.facebook.com"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/twitter.svg",alt:"wazzup"})),n.a.createElement("a",{href:"tel:+254705578809"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/whatsapp.png",alt:"twiit"}))))))},q=function(e){return n.a.createElement("div",{className:"card sideselection d-none d-md-block"},n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5"))))},G=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(N.a)(t).call(this,e))).onChange=a.onChange.bind(Object(O.a)(Object(O.a)(a))),a.onSubmit=a.onSubmit.bind(Object(O.a)(Object(O.a)(a))),a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProperties)()}},{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log(this.state)}},{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(F,null),n.a.createElement("main",{className:"container",style:{top:"1.5em",position:"relative"}},n.a.createElement(Y,{onChange:this.onChange,onSubmit:this.onSubmit}),n.a.createElement("div",{className:"row h-100",style:{marginTop:"0.1em"}},n.a.createElement("div",{className:"col-0  col-sm-2 col-md-3 col-lg-3 col-xl-2"},n.a.createElement(q,null)),n.a.createElement("div",{className:"col-12 col-sm-10 col-md-9 col-lg-9 col-xl-10"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(U,null)))))),n.a.createElement(K,null))}}]),t}(r.Component),$=Object(i.b)(null,{logout:R,fetchProperties:function(){return function(e){e({type:L}),M.fetchProperties().then(function(t){e({type:C,payload:t.propertylist})})}}})(G),Q=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchPropertyDetail)(e.match.params.id)}},{key:"render",value:function(){var e=this.props.property;return n.a.createElement(r.Fragment,null,n.a.createElement(F,null),n.a.createElement("main",{className:"container-fluid",style:{top:"3em",position:"relative"}},n.a.createElement("div",{className:"row h-100",style:{marginTop:"0.1em"}},n.a.createElement("div",null,JSON.stringify(e)))),n.a.createElement(K,null))}}]),t}(r.Component),V=Object(i.b)(function(e){return{property:e.property.property}},{fetchPropertyDetail:function(e){return function(t){M.fetchPropertyDetail(e).then(function(e){t({type:S,payload:e})})}}})(Q);var X=Object(s.a)(Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated}})(function(e){var t=e.location;return n.a.createElement("div",null,n.a.createElement(f,{exact:!0,location:t,path:"/login",component:J}),n.a.createElement(d,{exact:!0,location:t,path:"/",component:$}),n.a.createElement(y,{exact:!0,location:t,path:"/property/:id",component:V}))})),Z=a(10),ee=a(42),te=a(43),ae=a(20),re={isAuthenticated:!1,isLoading:!0,user:{}};var ne={property:{},isLoading:!0,propertylist:[]};var oe=Object(Z.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ae.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case w:return Object(ae.a)({},e,{isAuthenticated:!1,isLoading:!1});default:return e}},property:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,a=e.propertylist;switch(t.type){case C:return a=t.payload.map(function(e){return a.find(function(t){return t.id===e.id})||e}),Object(ae.a)({},e,{isAuthenticated:!0,isLoading:!1,propertylist:a});case A:return Object(ae.a)({},e,{isLoading:!1});case S:return Object(ae.a)({},e,{property:t.payload});case L:return Object(ae.a)({},e,{property:{}});default:return e}}}),ce=Object(Z.createStore)(oe,Object(te.composeWithDevTools)(Object(Z.applyMiddleware)(ee.a))),le=function(){return n.a.createElement(l.a,null,n.a.createElement(i.a,{store:ce},n.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(73),a(75),a(77);var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?P.a.defaults.headers.common.authorization="Bearer ".concat(e):delete P.a.defaults.headers.common.authorization};localStorage.emlakJWT?(ie(localStorage.emlakJWT),H.fetchUserData().then(function(e){ce.dispatch(x(e))}).catch(function(e){return ce.dispatch(T())})):(ie(),ce.dispatch(T())),c.a.render(n.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.02a16450.chunk.js.map