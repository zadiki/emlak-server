(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,a,t){e.exports=t(73)},69:function(e,a,t){},71:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(33),l=t.n(o),c=t(76),i=t(4),s=t(77),m=t(9),p=t(74),u=t(75);var d=Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated}})(function(e){var a=e.isAuthenticated,t=e.component,r=Object(m.a)(e,["isAuthenticated","component"]);return n.a.createElement(p.a,Object.assign({},r,{render:function(e){return a?n.a.createElement(u.a,{to:"/"}):n.a.createElement(t,e)}}))});var g=Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated,isLoading:e.user.isLoading}})(function(e){var a=e.isAuthenticated,t=e.isLoading,r=e.component,o=Object(m.a)(e,["isAuthenticated","isLoading","component"]);return n.a.createElement(p.a,Object.assign({},o,{render:function(e){return a||t?n.a.createElement(r,e):n.a.createElement(u.a,{to:"/login"})}}))}),f=t(11),y=t(15),h=t(16),b=t(20),E=t(17),N=t(18),v=t(5),O=function(e){var a=e.onChange,t=e.onSubmit;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:t,className:"login-form"},n.a.createElement("div",{className:"card card-default"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"email",name:"email",onChange:a,autoComplete:"username",required:!0,placeholder:"example@example.com",className:"form-username form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"password",name:"password",onChange:a,required:!0,placeholder:"password",autoComplete:"new-password",className:"form-username form-control"})),n.a.createElement("button",{type:"submit",className:"btn  btn-success btn-block"},"Login")))))},k="LOGIN",j="LOGOUT",w="FETCH_PROPERTYLIST",C="POST_PROPERTY",S=function(e){return{type:k,payload:e}},x=function(){return{type:j}},L=t(10),A=t.n(L),T={login:function(e){return A.a.post("/api/user/login",{email:e.email,password:e.password}).then(function(e){return e.data})},fetchUserData:function(){return A.a.get("/api/user/getuserdata").then(function(e){return e.data})}},H={fetchProperties:function(){return A.a.get("/api/property/allproperties").then(function(e){return e.data})}},D=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(b.a)(this,Object(E.a)(a).call(this,e))).onChange=t.onChange.bind(Object(v.a)(Object(v.a)(t))),t.onSubmit=t.onSubmit.bind(Object(v.a)(Object(v.a)(t))),t}return Object(N.a)(a,e),Object(h.a)(a,[{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var a=this.props.login;e.preventDefault(),a(this.state)}},{key:"render",value:function(){return n.a.createElement(O,{onChange:this.onChange,onSubmit:this.onSubmit})}}]),a}(r.Component),M=Object(i.b)(null,{login:function(e){return function(a){T.login(e).then(function(e){localStorage.emlakJWT=e.token,a(S(e))})}}})(D),P=function(e){var a=e.logout;return n.a.createElement("div",{className:"bg-light",style:{marginBottom:"1.5em"}},n.a.createElement("nav",{className:"navbar bg-light  navbar-expand-lg navbar-light fixed-top "},n.a.createElement("div",{className:"container"},n.a.createElement("a",{className:"navbar-brand",href:"/"},n.a.createElement("img",{src:"https://images.prop24.com/199025065/Crop481x298",alt:"waoa",className:"d-inline-block card-img-top rounded-circle small-rounded-img"})),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item active d-none d-md-block"},n.a.createElement("a",{className:"nav-link",href:"/"},"Home ",n.a.createElement("span",{className:"sr-only"},"(current)"))),n.a.createElement("li",{className:"nav-item d-none d-md-block"},n.a.createElement("a",{className:"nav-link",href:"/"},"Link")),n.a.createElement("li",{className:"nav-item active d-none d-block d-sm-none"},n.a.createElement("a",{className:"nav-link",href:"/",onClick:a},"logout ",n.a.createElement("span",{className:"sr-only"},"(current)"))),n.a.createElement("li",{className:"nav-item active d-none d-block d-sm-none"},n.a.createElement("a",{className:"nav-link",href:"/signup"},"Sign Up ",n.a.createElement("span",{className:"sr-only"},"(current)")))),n.a.createElement("div",{className:"nav-item d-none d-md-block"},n.a.createElement("a",{href:"/messages"},n.a.createElement("i",{className:"fas fa-envelope"}))),n.a.createElement("div",{className:"nav-item d-none d-md-block"},n.a.createElement("a",{className:"nav-link",href:"/",onClick:a},"logout ",n.a.createElement("span",{className:"sr-only"},"(current)")))))))},z=function(e){var a=e.property;Object(m.a)(e,["property"]);return n.a.createElement("div",{className:"col-6 col-xs-6 col-sm-4 col-lg-3 col-md-4 col-xl-2",style:{marginBottom:"1rem"}},n.a.createElement("div",{className:"card rounded-0 property-card"},n.a.createElement("a",{href:"propertydetails/<%= property._id %>"},n.a.createElement("img",{className:"card-img-top rounded-0",style:{height:"10em"},src:a.ImageUrl,alt:"Card cap"})),n.a.createElement("div",{className:"bottom-wrap m-0 bg-transparent"},n.a.createElement("span",{className:"ml-1  text-primary"},a.SaleOrNot),n.a.createElement("div",{className:"ml-1"},n.a.createElement("div",{style:{minHeight:"2.5em",marginTop:"0.3px",maxHeight:"2.5em"}},n.a.createElement("span",{className:"h9 text-primary ",style:{fontSize:"13px"}},a.Address)),n.a.createElement("span",{className:"mt-1",style:{fontsize:"12px",display:"block",position:"relative"}},"Ksh:",a.Price),n.a.createElement("span",{className:"mt-1  mb-1"},n.a.createElement("i",{className:"fas fa-star fa-xs rating-style rating-style-full"}),n.a.createElement("i",{className:"fas fa-star rating-style rating-style-half"}),n.a.createElement("i",{className:"fas fa-star rating-style rating-style-half"}),n.a.createElement("i",{className:"fas fa-star-half-alt rating-style rating-style-half"}),n.a.createElement("i",{className:"far fa-star  rating-style rating-style-empty"}))))))},W=Object(i.b)(function(e){return{properties:e.property.propertylist}})(function(e){var a=e.properties.map(function(e){return n.a.createElement(z,{key:e.id,property:e})});return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row "},a))}),B=function(e){var a=e.onChange,t=e.onSubmit;Object(m.a)(e,["onChange","onSubmit"]);return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-10 col-md-10 col-lg-7 col-xl-5  col-sm-10 input-group mb-3"},n.a.createElement("form",{onSubmit:t,className:"col-12"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",name:"searchText",onChange:a,className:"form-control",placeholder:"Search property","aria-label":"","aria-describedby":"button-addon2"}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},n.a.createElement("i",{className:"fas fa-search"})))))))},J=function(e){return n.a.createElement("div",{className:"pt-3",style:{marginTop:"3em",backgroundColor:"#0B2239"}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location="},"Apartment for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location="},"House for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=sale&renttype=&location="},"Office for sale"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location="},"Land for sale"))),n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=nairobi"},"Apartment for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=daily&location=nairobi"},"Daily apartment in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=mombasa"},"Apartment for rent in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=mombasa"},"Daily apartment in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=rent&renttype=&location=kisumu"},"Apartment for rent in Kisumu"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=rent&renttype=&location=nairobi"},"House for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=nairobi"},"Office for rent in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=mombasa"},"Office for rent in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=rent&renttype=&location=kisumu"},"Office for rent in Kisumu"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=hotel&&propertytype=rent&renttype=daily&location=mombasa"},"Hotels in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=cottage&&propertytype=&renttype=&location=mombasa&location=kwale&location=lamu&location=kilifi&location=malindi"},"Daily Cottage in Coast region"))),n.a.createElement("div",{className:"col-12 col-lg-4 col-md-4"},n.a.createElement("ul",{className:"list-group footer-card-display"},n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location=nairobi"},"Apartment for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=apartment&&propertytype=sale&renttype=&location=mombasa"},"Apartment for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location=nairobi"},"House for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=house&&propertytype=sale&renttype=&location=mombasa"},"House for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=salet&renttype=&location=nairobi"},"Office for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=office&&propertytype=sale&renttype=&location=mombasa"},"Office for sale in Mombasa"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location=nairobi"},"Land for sale in Nairobi"),n.a.createElement("a",{className:"list-group-item",href:"/property-search?category=land&&propertytype=sale&renttype=&location=mombasa"},"Land for sale in Mombasa")))),n.a.createElement("div",{className:"row mt-2 mb-1"},n.a.createElement("div",{className:" col-12 align-content-end"},n.a.createElement("a",{href:"https://www.facebook.com"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/facebook.svg",alt:"fb"})),n.a.createElement("a",{href:"https://www.facebook.com"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/twitter.svg",alt:"wazzup"})),n.a.createElement("a",{href:"tel:+254705578809"},n.a.createElement("img",{className:"float-right rounded-circle ml-2 small-rounded-img",src:"images/whatsapp.png",alt:"twiit"}))))))},I=function(e){return n.a.createElement("div",{className:"card sideselection d-none d-md-block"},n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5")),n.a.createElement("a",{href:"/propertycategory/",className:"list-group-item d-flex justify-content-between align-items-center"},"House",n.a.createElement("span",{className:"badge badge-primary badge-pill"},"5"))))},R=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(b.a)(this,Object(E.a)(a).call(this,e))).logoutLinkClicked=t.logoutLinkClicked.bind(Object(v.a)(Object(v.a)(t))),t.onChange=t.onChange.bind(Object(v.a)(Object(v.a)(t))),t.onSubmit=t.onSubmit.bind(Object(v.a)(Object(v.a)(t))),t}return Object(N.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchProperties)()}},{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log(this.state)}},{key:"logoutLinkClicked",value:function(e){e.preventDefault(),(0,this.props.logout)()}},{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"container-fluid"},n.a.createElement(P,{logout:this.logoutLinkClicked}),n.a.createElement("main",{className:"container-fluid",style:{top:"3em",position:"relative"}},n.a.createElement(B,{onChange:this.onChange,onSubmit:this.onSubmit}),n.a.createElement("div",{className:"row h-100",style:{marginTop:"0.1em"}},n.a.createElement("div",{className:"col-0  col-sm-2 col-md-3 col-lg-3 col-xl-2"},n.a.createElement(I,null)),n.a.createElement("div",{className:"col-12 col-sm-10 col-md-9 col-lg-9 col-xl-10"},n.a.createElement(W,null))))),n.a.createElement(J,null))}}]),a}(r.Component),U=Object(i.b)(null,{logout:function(e){return function(e){localStorage.removeItem("emlakJWT"),e(x())}},fetchProperties:function(){return function(e){H.fetchProperties().then(function(a){e({type:w,payload:a.propertylist})})}}})(R);var K=Object(s.a)(Object(i.b)(function(e){return{isAuthenticated:e.user.isAuthenticated}})(function(e){var a=e.location;return n.a.createElement("div",null,n.a.createElement(g,{exact:!0,location:a,path:"/",component:U}),n.a.createElement(d,{exact:!0,location:a,path:"/login",component:M}))})),_=t(8),q=t(36),F=t(37),G=t(12),Y={isAuthenticated:!1,isLoading:!0,name:"zadiki"};var $={property:{},isLoading:!0,propertylist:[]};var Q=Object(_.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case k:return Object(G.a)({},e,{isAuthenticated:!0,isLoading:!1,user:a.payload});case j:return Object(G.a)({},e,{isAuthenticated:!1,isLoading:!1});default:return e}},property:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0,t=e.propertylist;switch(a.type){case w:return t=a.payload.map(function(e){return t.find(function(a){return a.id===e.id})||e}),Object(G.a)({},e,{isAuthenticated:!0,isLoading:!1,propertylist:t});case C:return Object(G.a)({},e,{isLoading:!1});default:return e}}}),V=Object(_.createStore)(Q,Object(F.composeWithDevTools)(Object(_.applyMiddleware)(q.a))),X=function(){return n.a.createElement("div",{className:"container-fluid"},n.a.createElement(c.a,null,n.a.createElement(i.a,{store:V},n.a.createElement(K,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(67),t(69),t(71);var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?A.a.defaults.headers.common.authorization="Bearer ".concat(e):delete A.a.defaults.headers.common.authorization};localStorage.emlakJWT?(Z(localStorage.emlakJWT),T.fetchUserData().then(function(e){V.dispatch(S(e))}).catch(function(e){return V.dispatch(x())})):(Z(),V.dispatch(x())),l.a.render(n.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,2,1]]]);
//# sourceMappingURL=main.f86eba9e.chunk.js.map